(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1959:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(139),n(70),n(11),n(6),n(54),n(21);var o=n(5);n(436),n(83);function r(){return c.apply(this,arguments)}function c(){return(c=Object(o.a)(regeneratorRuntime.mark((function t(){var e,n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:document,t.next=3,Promise.all(Array.from(e.querySelectorAll("image")).filter((function(img){var t;return img.getAttribute("href")&&!(null===(t=img.getAttribute("href"))||void 0===t?void 0:t.startsWith("data"))})).map((function(img){return l(img.getAttribute("href")).then((function(t){img.setAttribute("href",t)}))})));case 3:return t.abrupt("return",new Promise((function(t){return setTimeout(t,50)})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(e).then((function(t){return t.blob()})).then((function(t){return new Promise((function(e,n){var o=new FileReader;o.onloadend=function(){return e(o.result)},o.onerror=n,o.readAsDataURL(t)}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.b=function(t,content){var e,n,o=document.createElement("a"),r=function(code){for(var t=code.split(";base64,"),e=t[0].split(":")[1],n=window.atob(t[1]),o=n.length,r=new Uint8Array(o),i=0;i<o;++i)r[i]=n.charCodeAt(i);return new Blob([r],{type:e})}(content);(null===(e=window.navigator)||void 0===e?void 0:e.msSaveOrOpenBlob)?null===(n=window.navigator)||void 0===n||n.msSaveOrOpenBlob(r,t):(document.createEvent("HTMLEvents").initEvent("click",!0,!0),o.download=t,o.href=URL.createObjectURL(r),o.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})))}},2004:function(t,e,n){},2005:function(t,e,n){},2006:function(t,e,n){},2007:function(t,e,n){},2008:function(t,e,n){},2203:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(11),n(6),n(54);var o=n(31),r=(n(21),n(5)),c=n(1959);function l(t,e){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function t(e,r){var l,v,d,canvas,f,m,img;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([r.svgToBase64?Object(c.a)():Promise.resolve(),n.e(324).then(n.t.bind(null,3089,7)).then((function(t){return t.default}))]);case 2:return l=t.sent,v=Object(o.a)(l,2),d=v[1],t.next=7,d(e,r.html2canvas||{useCORS:!0,allowTaint:!0,foreignObjectRendering:!0});case 7:if(canvas=t.sent,"base64"!==r.format){t.next=12;break}f=canvas.toDataURL(r.type||"image/jpeg",r.quality||1),t.next=15;break;case 12:return t.next=14,new Promise((function(t){canvas.toBlob((function(b){t(b)}),r.type||"image/jpeg",r.quality||1)}));case 14:f=t.sent;case 15:return r.appendPreview&&(m="boolean"==typeof r.appendPreview?e:r.appendPreview,img=document.createElement("img"),Object.assign(img.style,{position:"absolute",zIndex:"100",left:"0",top:"0",width:m.clientWidth,height:m.clientHeight}),m.appendChild(img)),t.abrupt("return",f);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},2249:function(t,e,n){t.exports=n.p+"img/ore.391cacb.png"},2250:function(t,e,n){t.exports=n.p+"img/button_active.c15a391.png"},2251:function(t,e,n){t.exports=n.p+"img/dailyLogin.1e2f83f.png"},2252:function(t,e,n){t.exports=n.p+"img/timedGeneration.fa59c66.png"},2253:function(t,e,n){"use strict";n(2004)},2254:function(t,e,n){t.exports=n.p+"img/step3.c39e104.png"},2255:function(t,e,n){t.exports=n.p+"img/BugFixAwardTitle.0993a12.png"},2256:function(t,e,n){t.exports=n.p+"img/awardIcon.bfd2e50.png"},2257:function(t,e,n){"use strict";n(2005)},2258:function(t,e,n){t.exports=n.p+"img/bugfix_share_icon.552150d.png"},2259:function(t,e,n){"use strict";n(2006)},2260:function(t,e,n){"use strict";n(2007)},2261:function(t,e,n){"use strict";n(2008)},2262:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return _}));n(6),n(21);var o=n(5),r=n(27),c=n(8),l=n(2733),v=n.n(l),d=n(1675);function f(t){Object(c.m)((function(){var e,n,o;e=Object(r.c)(),n=(null==e?void 0:e.enter_from)||"",o=n?{enter_from:n}:{},Object(d.c)(t,"bigfix_visit",o)}))}function m(t,e,n){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(regeneratorRuntime.mark((function t(e,n,o){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var r=Object(c.r)();e.then((function(e){var c=e.default;n.value&&(r.value=v.a.loadAnimation({container:n.value,renderer:"svg",loop:o||!1,autoplay:!0,animationData:c})),t(r.value)}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){var t=Object(c.r)(),e=Object(c.r)(),o=Object(c.r)();return Object(c.o)((function(){clearInterval(t.value)})),[e,o,function(){m(n.e(206).then(n.bind(null,3092)),e,!0),m(n.e(207).then(n.bind(null,3093)),o).then((function(e){e&&(t.value=setInterval((function(){e.goToAndPlay(0)}),3e3))}))}]}},2421:function(t,e,n){"use strict";var o=n(8),r=(n(121),n(2251)),c=n.n(r),l=n(2252),v=n.n(l),d=Object(o.d)({props:{type:{type:Number,default:1},thisX:{type:Number,default:0},thisY:{type:Number,default:0},position:{type:Number,default:0},drop:{type:Boolean,default:!1},index:{type:Number,default:0},opc:{type:Number,default:1}},emits:["catchBug"],setup:function(t,e){var n=e.emit,r=e.root.$device.isDesktop,l=Object(o.r)(1),d=Object(o.r)("".concat(r?"bug-item-web":"bug-item"," ").concat(t.drop?"animation":"breath".concat(t.position%4)));return Object(o.m)((function(){l.value=window.innerWidth/375,setTimeout((function(){d.value="".concat(r?"bug-item-web":"bug-item","  breath").concat(t.position%4)}),1600)})),{isWeb:r,dailyLoginImg:c.a,timedGenImg:v.a,rpxRate:l,itemClass:d,handleCatchBug:function(t){n("catchBug",t)}}}}),f=(n(2253),n(29)),m=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.itemClass,style:{left:(t.isWeb?t.thisX:t.thisX*t.rpxRate)+"px",top:(t.isWeb?t.thisY:t.thisY*t.rpxRate)+"px",opacity:""+t.opc},on:{click:function(e){return e.stopPropagation(),t.handleCatchBug(t.index)}}},[n("div",{staticClass:"image-here"},[n("div",{class:{"click-target":!t.isWeb}},[n("img",{style:{transform:"scale("+t.opc+")"},attrs:{src:""+(2===t.type?t.dailyLoginImg:t.timedGenImg)}})])])])}),[],!1,null,"8a77163e",null).exports,h=n(123),_=n(1675),O=[[88,141],[105,85],[105,206],[130,22],[136,265],[37,111],[48,190],[58,39],[73,257]],j=[[213,214],[228,133],[228,301],[258,55],[265,375],[135,164],[144,267],[163,91],[175,358]],x=Object(o.d)({components:{BugItem:m},emits:["collectBug"],setup:function(t,e){var n=e.emit,r=e.root,c=r.$device.isDesktop,l=Object(o.r)([]),v=Object(o.r)([]),d=Object(o.r)(0);function f(t,e){if(d.value>0){var o=t.thisX,O=t.thisY,j=t.opc,x=c?370:270,w=c?-20:-30;t.new_flag=!1,Math.abs(o-x)>55||Math.abs(O-w)>55?(t.thisX+=.04*(x-o),t.thisY+=.04*(w-O),t.opc+=.04*(0-j),window.requestAnimationFrame((function(){f(t,e)}))):(!function(t){var e=l.value.indexOf(t),o=v.value[e];(function(t){h.a.CollectBug(t).then((function(t){t&&0===t.err_no&&(Object(_.b)(r),n("collectBug"))})).catch((function(){console.log("收集错误")}))})({bug_type:o.bug_type,bug_time:o.bug_time||0}),v.value.splice(e,1),l.value.splice(e,1),l.value.length<=0&&0!=v.value.length&&m()}(t),d.value--)}}function m(){for(var t=v.value.length,i=0;i<(t<9?t:9);i++){var e=v.value[i];l.value.push({position_index:i,opc:1,thisX:c?j[i][1]:O[i][1],thisY:c?j[i][0]:O[i][0],new_flag:(null==e?void 0:e.is_first)||!1,type:(null==e?void 0:e.bug_show_type)||1})}}return Object(o.m)((function(){h.a.GetUserNotCollectBug({}).then((function(t){v.value=t.data,m()})).catch((function(){console.log("获取错误")}))})),{bugItems:l,handleCatchBug:function(t){d.value++,f(l.value[t],t)}}}}),w=Object(f.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-container"},t._l(t.bugItems,(function(e,o){return n("BugItem",{key:e.thisX*e.thisY,staticClass:"item",attrs:{thisX:e.thisX,thisY:e.thisY,position:e.position_index,type:e.type,drop:e.new_flag,index:o,opc:e.opc},on:{catchBug:t.handleCatchBug}})})),1)}),[],!1,null,"9f9e79fa",null);e.a=w.exports},2433:function(t,e,n){"use strict";n(121);var o=n(8),r=n(1188),c=n(2115),l=Object(o.d)({components:{BugFixMountModal:c.a},props:{visible:{type:Boolean,default:function(){return!1}},collectMount:{type:Number,default:function(){return 0}},minJoinMount:{type:Number,default:function(){return 0}}},emits:["close","confirm"],setup:function(t,e){var n=e.emit,c=Object(o.r)(t.collectMount>=t.minJoinMount?t.minJoinMount:t.collectMount);return Object(o.x)((function(){return t.visible}),(function(){c.value=t.collectMount>=t.minJoinMount?t.minJoinMount:t.collectMount})),{amount:c,tipMsg:Object(o.a)((function(){return c.value>t.collectMount?"已经超过你当前未消除的Bug数量":c.value<t.minJoinMount?"至少投递 ".concat(t.minJoinMount," 个Bug才能瓜分矿石"):""})),handleInputMount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;c.value=t},handleClose:function(){n("close")},handleSubmit:function(){c.value>t.collectMount||0===c.value||n("confirm",r.c.JOIN,c.value)}}}}),v=n(29),component=Object(v.a)(l,(function(){var t=this.$createElement;return(this._self._c||t)("bug-fix-mount-modal",{attrs:{visible:this.visible,collectMount:this.collectMount,defaultVal:this.amount,tipMsg:this.tipMsg,title:"我要参加BugFix",subTitle:"在本场BugFix结束前，还可以再次消除Bug"},on:{change:this.handleInputMount,close:this.handleClose,submit:this.handleSubmit}})}),[],!1,null,null,null);e.a=component.exports},2434:function(t,e,n){"use strict";n(121);var o=n(8),r=n(1188),c=n(2115),l=Object(o.d)({components:{BugFixMountModal:c.a},props:{visible:{type:Boolean,default:function(){return!1}},collectMount:{type:Number,default:function(){return 0}},minJoinMount:{type:Number,default:function(){return 0}},cleanMount:{type:Number,default:function(){return 0}}},emits:["close","confirm"],setup:function(t,e){var n=e.emit,c=Object(o.r)(t.cleanMount<t.minJoinMount?"还需消除".concat(t.minJoinMount-t.cleanMount,"个bug才可瓜分本场奖励"):""),l=Object(o.r)(1),v=function(){l.value>t.collectMount?c.value="已经超过你当前未消除的Bug数量":c.value=""};return Object(o.x)((function(){return t.visible}),(function(t){l.value=1,t||(c.value="")})),{amount:l,tipMsg:c,handleInputMount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l.value=t,v()},handleSubmit:function(){v(),l.value>t.collectMount||0===l.value||n("confirm",r.c.FIX,l.value)},handleClose:function(){n("close")}}}}),v=n(29),component=Object(v.a)(l,(function(){var t=this.$createElement;return(this._self._c||t)("bug-fix-mount-modal",{attrs:{visible:this.visible,collectMount:this.collectMount,defaultVal:this.amount,tipMsg:this.tipMsg,title:"我要增加消除Bug",subTitle:"在本场BugFix结束前，还可以再次消除Bug"},on:{change:this.handleInputMount,submit:this.handleSubmit,close:this.handleClose}})}),[],!1,null,null,null);e.a=component.exports},2436:function(t,e,n){"use strict";var o=n(8),r=n(176),c=Object(o.d)({components:{BModal:r.Modal},props:{visible:{type:Boolean,default:function(){return!1}},userBugFix:{type:Object,default:function(){return{}}},competitionInfo:{type:Object,default:function(){return{}}}},emits:["close"],setup:function(t,e){var n=e.emit,r=Object(o.a)((function(){var e;return(null===(e=t.userBugFix)||void 0===e?void 0:e.bug_fix_num)||0})),c=Object(o.a)((function(){var e;return(null===(e=t.competitionInfo)||void 0===e?void 0:e.award_req_num)||0}));return{rank:Object(o.a)((function(){var e;return(null===(e=t.userBugFix)||void 0===e?void 0:e.user_rank)||0})),bugFixNum:r,minFixNum:c,hasAward:Object(o.a)((function(){return r.value>=c.value&&r.value>0})),userFixAward:Object(o.a)((function(){var e;return(null===(e=t.userBugFix)||void 0===e?void 0:e.user_fix_award)||0})),handleClose:function(){n("close")}}}}),l=(n(2257),n(29)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-modal",{staticClass:"bugfix_reward_modal",attrs:{value:t.visible,"mask-closable":!1,"footer-hide":!0,closable:!1}},[o("div",{staticClass:"content_wrap"},[o("div",{staticClass:"content"},[o("div",{staticClass:"title_icon_wrap"},[o("img",{staticClass:"title_icon",attrs:{src:n(2255),alt:""}})]),t._v(" "),o("div",{staticClass:"title"},[t._v("代码千万行，Bug无处藏。祝你快乐成长")]),t._v(" "),o("div",{staticClass:"sub_title"},[t._v("\n        恭喜获得第\n        "),o("span",{staticClass:"num"},[t._v(t._s(t.rank))]),t._v("\n        名\n      ")]),t._v(" "),o("div",{staticClass:"bug_amount_wrap"},[o("div",{staticClass:"left_wrap"},[o("img",{staticClass:"bug_fission",attrs:{src:n(2142),alt:""}}),t._v(" "),o("span",{staticClass:"txt"},[t._v("成功消除Bug")])]),t._v(" "),o("div",{staticClass:"right_wrap"},[o("span",[t._v("x")]),t._v(" "),o("span",{staticClass:"num"},[t._v(t._s(t.bugFixNum))])])]),t._v(" "),o("div",{staticClass:"award_detail_wrap"},[o("span",{staticClass:"award_detail_txt"},[t._v("奖励明细")])]),t._v(" "),t.hasAward?o("div",{staticClass:"award_amount_wrap"},[o("img",{staticClass:"bug_award_icon",attrs:{src:n(2256),alt:""}}),t._v(" "),o("div",{staticClass:"award_amount"},[t._v("矿石 x"+t._s(t.userFixAward))])]):o("div",{staticClass:"min_bug_amount_wrap"},[t._v("\n        至少要消除\n        "),o("span",{staticClass:"min_bug_amount"},[t._v(t._s(t.minFixNum))]),t._v("\n        个bug，才能瓜分本场矿石奖励\n      ")]),t._v(" "),o("div",{staticClass:"footer"},[o("div",{staticClass:"submit_btn",on:{click:function(e){return e.stopPropagation(),t.handleClose(e)}}},[t._v("我知道啦")])])])])])}),[],!1,null,"7687b5c2",null);e.a=component.exports},2437:function(t,e,n){"use strict";n(21);var o=n(5),r=n(8),c=n(176),l=n(1914),v=n.n(l),d=n(18),f=n(97),m=n(27),h=n(1188),_=n(28),O=Object(r.d)({name:"BugFixShareModal",components:{BModal:c.Modal,CloseIcon:v.a},props:{visible:{type:Boolean,default:function(){return!1}},submitText:{type:String,default:function(){return"为TA助攻"}}},emits:["close","submit"],setup:function(t,e){var n=e.emit,c=e.root,l=Object(r.r)(!1),v=Object(r.a)((function(){var t;return null===(t=c.$store.state.auth.user)||void 0===t?void 0:t.user_id})),O=Object(r.r)({}),j=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){var e,n,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",t.next=3,Object(_.i)(e,{});case 3:(n=t.sent).user_id&&(O.value=n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.m)((function(){l.value=Object(d.f)();var t=Object(m.c)(),e=(null==t?void 0:t.inviterId)||"";e.length&&j(e)})),{isApp:l,userId:v,inviterUserInfo:O,closeModal:function(){n("close",!0)},handleSubmit:function(){if(!v.value)return n("close",!1),sessionStorage.setItem(h.e.bugFixCacheLoginAction,"1"),l.value?f.a.call("app.login"):null==c?void 0:c.$requestLogin();n("submit")}}}}),j=(n(2259),n(29)),component=Object(j.a)(O,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-modal",{staticClass:"bugfix_share_modal",class:{bugfix_share_modal_bg:!t.userId&&!t.isApp},attrs:{width:"320px",value:t.visible,"mask-closable":!1,"footer-hide":!0,closable:!1}},[o("div",{staticClass:"content"},[o("CloseIcon",{staticClass:"close_icon",on:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}}),t._v(" "),o("div",{staticClass:"user-box"},[o("img",{staticClass:"avatar",attrs:{src:t.inviterUserInfo.avatar||""}}),t._v(" "),o("span",{staticClass:"username"},[t._v(t._s(t.inviterUserInfo.user_name||""))]),t._v(" "),o("span",{staticClass:"txt"},[t._v("给你分享了")])]),t._v(" "),o("div",{staticClass:"share_avatar"},[o("img",{attrs:{src:n(2258),alt:""}})]),t._v(" "),o("div",{staticClass:"sub_title"},[t._v("为好友助攻消除更多Bug吧")]),t._v(" "),o("div",{staticClass:"submit_btn",on:{click:t.handleSubmit}},[t._v("\n      "+t._s(t.submitText)+"\n    ")])],1)])}),[],!1,null,"3ea5298c",null);e.a=component.exports},2439:function(t,e,n){"use strict";var o=n(8),r=n(18),c=n(97),l=n(1094),v=n(1242),d=n(1675),f=Object(o.d)({props:{userBugFix:{type:Object,default:function(){return{}}},competitionInfo:{type:Object,default:function(){return{}}}},emits:["openModal","openShareModal"],setup:function(t,e){var n=e.emit,f=e.root,m=f.$getBean("eventBus"),h=Object(o.r)(!1),_=f.$device.isDesktop,O=Object(o.a)((function(){var e;return(null===(e=t.competitionInfo)||void 0===e?void 0:e.from_end_num)<=0})),j=Object(o.a)((function(){var e;return(null===(e=t.userBugFix)||void 0===e?void 0:e.bug_fix_num)>0})),x=Object(o.a)((function(){var e;return O.value&&j.value&&0!==(null===(e=t.competitionInfo)||void 0===e?void 0:e.award_status)})),w=Object(o.a)((function(){var e;return(null===(e=t.userBugFix)||void 0===e?void 0:e.bug_fix_num)||0})),C=Object(o.a)((function(){var e;return(null===(e=t.userBugFix)||void 0===e?void 0:e.user_rank)||0})),y=Object(o.a)((function(){var e;return(null===(e=t.userBugFix)||void 0===e?void 0:e.got_assist_times)||0})),k=Object(o.a)((function(){var e;return(null===(e=t.userBugFix)||void 0===e?void 0:e.user_info)&&t.userBugFix.user_info.avatar_large})),B=Object(o.a)((function(){var e;return(null===(e=t.userBugFix)||void 0===e?void 0:e.user_info)&&t.userBugFix.user_info.user_name||""}));return Object(o.m)((function(){h.value=Object(r.f)()})),{isDeskTop:f.$device.isDesktop,isApp:h,hasEnd:O,hasJoin:j,bugFixNum:w,assitTimes:y,rank:C,avatarUrl:k,userName:B,btnName:Object(o.a)((function(){return j.value?O.value?"查看奖励":"增加消除":O.value?"未上榜":"去参加"})),watchAssitRecords:function(){var e;h.value&&Object(c.e)((null===(e=t.competitionInfo)||void 0===e?void 0:e.competition_id)||"",m)},handleBtnClick:function(){x.value?Object(v.a)("比赛结果计算中，稍后再来看看"):n("openModal",O.value,j.value)},handleInviteAssit:function(){O.value||!_&&!h.value||(Object(d.e)(f),n("openShareModal"))},formatBugfixRankNumber:l.b,formatBugfixFixNumber:l.a}}}),m=(n(2260),n(29)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card_wrap"},[t.isDeskTop?n("div",{staticClass:"web_card"},[n("div",{staticClass:"self-rank"},[t.hasEnd&&!t.hasJoin?n("div",{staticClass:"not-in-list"},[t._v("未上榜")]):n("div",{staticClass:"not-in-list"},[t._v(t._s(t.formatBugfixRankNumber(t.rank)))]),t._v(" "),n("div",{staticClass:"user-info"},[n("div",{staticClass:"avatar"},[n("img",{staticClass:"self-avatar",attrs:{src:t.avatarUrl}})]),t._v(" "),n("div",{staticClass:"self-bug-info"},[n("div",{staticClass:"user_name"},[t._v(t._s(t.userName))]),t._v(" "),n("div",{staticClass:"fix-bug-count"},[t._v("\n            本场累计消除\n            "),n("span",[t._v("\n              "+t._s(t.formatBugfixFixNumber(t.bugFixNum))+"\n            ")]),t._v("\n            个Bug\n          ")])])]),t._v(" "),n("div",{staticClass:"btn-group"},[n("span",{staticClass:"btn_base btn_join",on:{click:function(e){return e.stopPropagation(),t.handleBtnClick(e)}}},[t._v("\n          "+t._s(t.btnName)+"\n        ")])])])]):n("div",{staticClass:"mobile_card"},[n("div",{staticClass:"user_info_wrap"},[n("div",{staticClass:"left_wrap user_info_left"},[n("div",{staticClass:"user_count"},[t._v(t._s(t.formatBugfixRankNumber(t.rank)))]),t._v(" "),n("div",{staticClass:"img_wrap"},[t.hasEnd&&!t.hasJoin?n("div",{staticClass:"no_join"},[t._v("未上榜")]):t._e(),t._v(" "),n("img",{staticClass:"user_avatar",attrs:{src:t.avatarUrl,alt:""}})]),t._v(" "),n("div",{staticClass:"user_info_box"},[n("div",{staticClass:"user_name"},[t._v("\n            "+t._s(t.userName)+"\n          ")]),t._v(" "),n("div",{staticClass:"clean_bug_amount_wrap"},[n("span",{staticClass:"clean_bug_amount"},[t._v("\n              本场累计消除\n              "),n("b",[t._v("\n                "+t._s(t.formatBugfixFixNumber(t.bugFixNum))+"\n              ")]),t._v("\n              个Bug\n            ")])])])]),t._v(" "),n("div",{staticClass:"right_wrap"},[n("span",{staticClass:"btn_base btn_join",on:{click:function(e){return e.stopPropagation(),t.handleBtnClick(e)}}},[t._v("\n          "+t._s(t.btnName)+"\n        ")])])])])])}),[],!1,null,"28c54672",null);e.a=component.exports},2440:function(t,e,n){"use strict";var o=n(8),r=Object(o.d)({props:{isEmptyNotice:{type:Boolean,default:function(){return!0}},noticeChunks:{type:Array,default:function(){return[]}}},setup:function(t,e){return{isMobile:e.root.$device.isMobile}}}),c=(n(2261),n(29)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"foot-bar"},[t.isEmptyNotice?n("span",[t._v("下场比赛即将开启。每日收bug，参赛分矿石！")]):t._l(t.noticeChunks,(function(e,o){return n("span",{key:o},[e.isHighLight?n("em",{staticClass:"high-light-notice",class:{mobile:t.isMobile}},[t._v("\n      "+t._s(e.content)+"\n    ")]):n("span",[t._v(t._s(e.content))])])}))],2)}),[],!1,null,"6fb2e4d0",null);e.a=component.exports},2473:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(83);var o=n(123),r=n(8);function c(){var t=Object(r.r)([]);return Object(r.m)((function(){o.a.GetPublishBoardView({notice_id:"7083416582256328748"}).then((function(e){var n=e.data.notice;t.value=function(t){var e=[];return function t(n){if(!n.length)return e;for(var i=0,o=0;i<n.length;)if("*"!==n[i]){if(i>=n.length-1)return e.push({content:n.slice(0,i+1).join(""),isHighLight:!1}),e;i++}else{if(e.push({content:n.slice(0,i).join(""),isHighLight:!1}),(o=i+1)>=n.length)return e;for(;o<n.length;){if("*"===n[o])return e.push({content:n.slice(i+1,o).join(""),isHighLight:!0}),n.splice(0,o+1),t(n);if(o>=n.length-1)return e.push({content:n.slice(i+1).join(""),isHighLight:!1}),e;o++}}return e}(t)}(n.split(""))}))})),[t]}},2724:function(t,e,n){},2728:function(t,e,n){},2729:function(t,e,n){},2730:function(t,e,n){},2731:function(t,e,n){},2732:function(t,e,n){},2734:function(t,e,n){},3613:function(t,e,n){t.exports=n.p+"img/strage_tag.42a299a.png"},3614:function(t,e,n){t.exports=n.p+"img/bugfix_title_web.28ab919.png"},3615:function(t,e,n){t.exports=n.p+"img/step1_web.1c733a5.png"},3616:function(t,e,n){t.exports=n.p+"img/step2_web.feec062.png"},3617:function(t,e,n){"use strict";n(2724)},3624:function(t,e,n){"use strict";n(2728)},3625:function(t,e,n){t.exports=n.p+"c9e55a51dfdb50b408a7116b0f96e664.svg"},3626:function(t,e,n){"use strict";n(2729)},3627:function(t,e,n){"use strict";n(2730)},3628:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var o=n(40),r=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,v=void 0===l?[]:l,d=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,h=data.attrs,_=void 0===h?{}:h,O=r(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){o(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[d,f],style:[style,m],attrs:Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},O),v.concat([n("path",{attrs:{d:"M16.5938 9C16.5938 13.1939 13.1939 16.5938 9 16.5938C4.8061 16.5938 1.40625 13.1939 1.40625 9C1.40625 4.8061 4.8061 1.40625 9 1.40625C13.1939 1.40625 16.5938 4.8061 16.5938 9Z",stroke:"white","stroke-opacity":"0.7","stroke-width":"1.5"}}),n("path",{attrs:{d:"M9.00365 11.1094L9.00095 10.6875C9.00095 9.42188 10.2666 9 11.0173 7.98653C11.768 6.97306 10.8103 5.20312 8.99593 5.20312C7.30257 5.20312 6.72531 6.2781 6.72266 7.10734V7.30347",stroke:"white","stroke-opacity":"0.7","stroke-width":"1.5"}}),n("path",{attrs:{d:"M9.00195 11.9531V13.6439",stroke:"white","stroke-opacity":"0.7","stroke-width":"1.5"}})]))}}},3629:function(t,e,n){"use strict";n(2731)},3630:function(t,e,n){t.exports=n.p+"img/share_bg_web.01de51c.jpg"},3631:function(t,e,n){"use strict";n(2732)},3632:function(t,e,n){"use strict";n(2734)},4436:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-wrap"},[e("img",{staticClass:"logo",attrs:{src:n(3614)}})])}],r=(n(16),n(15),n(11),n(6),n(14),n(0)),c=n(31),l=n(7),v=n(2421),d=(n(121),n(8)),f=n(176),m=Object(d.d)({emits:["step"],components:{BModal:f.Modal},props:{stepFlag:{type:Number,default:1}},setup:function(t,e){var n=e.emit;return Object(d.m)((function(){scrollTo(0,0)})),{BUGFIX_GUIDE_STEPS:3,handleStepFlow:function(){n("step")}}}}),h=(n(3617),n(29)),_=Object(h.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-modal",{ref:"model",staticClass:"guide-wrap-web",attrs:{width:"100%","mask-closable":!1,"footer-hide":!0,closable:!1,value:t.stepFlag>=1&&t.stepFlag<=t.BUGFIX_GUIDE_STEPS}},[o("div",{staticClass:"wrap",on:{click:function(e){return e.stopPropagation(),t.handleStepFlow(e)}}},[o("div",{staticClass:"step step1",class:{step_show:1===t.stepFlag}},[o("img",{attrs:{src:n(3615)}})]),t._v(" "),o("div",{staticClass:"step step2",class:{step_show:2===t.stepFlag}},[o("img",{attrs:{src:n(3616)}})]),t._v(" "),o("div",{staticClass:"step step3",class:{step_show:3===t.stepFlag}},[o("img",{attrs:{src:n(2254)}})])])])}),[],!1,null,"44c7fb33",null).exports,O=n(2433),j=n(2434),x=n(2435),w=n(2436),C=n(2437),y=n(2438),k=(n(21),n(5)),B=n(68),M=n(2463),F=Object(d.d)({components:{RankItem:M.a},props:{isEnd:{type:Boolean,default:!1},rankList:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!0}},setup:function(t,e){var n=e.emit;return{handleAssit:function(t,e){n("assit",t,e)}}}}),I=(n(3624),Object(h.a)(F,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("div",t._l(t.rankList,(function(e){return n("RankItem",{key:e.user_info.user_id,attrs:{index:e.user_rank,isEnd:t.isEnd,rankItem:e},on:{assit:t.handleAssit}})})),1)])}),[],!1,null,"8cf58810",null).exports),S=Object(d.d)({emits:["fetchSearchList","fetchInitList"],setup:function(t,e){var n=e.emit,o=Object(d.r)("");return Object(d.x)(o,(function(t){t||n("fetchInitList")})),{keyword:o,handleSearchList:function(){o.value&&n("fetchSearchList",o.value)}}}}),R=(n(3626),Object(h.a)(S,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"search"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索用户昵称"},domProps:{value:t.keyword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearchList(e)},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t._v(" "),o("img",{staticClass:"search-icon",attrs:{src:n(3625),alt:""},on:{click:t.handleSearchList}})])}),[],!1,null,"1946d2b7",null).exports),N=n(123),E=n(104),L=Object(d.d)({components:{RankList:I,RankSearch:R},props:{isEnd:{type:Boolean,default:!1},rankList:{type:Array,default:function(){return[]}},competitionId:{type:String,default:""}},emits:["assit","updateRankList"],setup:function(t,e){var n=e.emit,o=Object(d.r)(),r=Object(d.r)(!0),c=Object(d.r)("0"),l=Object(d.r)(""),v=function(){var e,v=null===(e=o.value)||void 0===e?void 0:e.children[0],d=v.clientHeight,m=v.scrollHeight;v.scrollTop+d>=m-5&&r.value&&f(t.competitionId,l.value,10,c.value).then((function(e){c.value=e.cursor,r.value=e.has_more,n("updateRankList",[].concat(Object(B.a)(t.rankList),Object(B.a)(e.data)))}))},f=function(){var t=Object(k.a)(regeneratorRuntime.mark((function t(e){var n,o,cursor,r,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"",o=c.length>2&&void 0!==c[2]?c[2]:10,cursor=c.length>3&&void 0!==c[3]?c[3]:"0",t.next=5,N.a.GetBugfixRankList({competition_id:e,key_word:n,limit:o,cursor:cursor});case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.m)((function(){f(t.competitionId).then((function(t){var e;c.value=t.cursor,r.value=t.has_more,n("updateRankList",t.data||[]),null===(e=o.value)||void 0===e||e.children[0].addEventListener("scroll",Object(E.a)(v,200))}))})),Object(d.o)((function(){var t;null===(t=o.value)||void 0===t||t.children[0].removeEventListener("scroll",v)})),{rankListDom:o,fetchSearchList:function(e){l.value=e,f(t.competitionId,e).then((function(t){c.value=t.cursor,r.value=t.has_more,n("updateRankList",t.data||[])}))},fetchInitList:function(){l.value="",f(t.competitionId).then((function(t){c.value=t.cursor,r.value=t.has_more,n("updateRankList",t.data||[])}))},handleAssistRank:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n("assit",t,e)}}}}),A=(n(3627),Object(h.a)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rank-list-web"},[n("div",{staticClass:"total-rank"},[n("div",{staticClass:"rank-search"},[n("RankSearch",{on:{fetchSearchList:t.fetchSearchList,fetchInitList:t.fetchInitList}})],1),t._v(" "),t.rankList?n("div",{ref:"rankListDom",staticClass:"rank-list"},[n("RankList",{attrs:{isEnd:t.isEnd,rankList:t.rankList},on:{assit:t.handleAssistRank}})],1):n("div",{staticClass:"empty-list"},[t._v("未找到相关结果")])])])}),[],!1,null,"ae75e4da",null).exports),T=n(3628),P=n.n(T),$=Object(d.d)({components:{BTooltip:f.Tooltip,AssitHelpIcon:P.a},props:{title:{type:String,default:function(){return""}},helpText:{type:String,default:function(){return""}}},setup:function(){return{}}}),J=(n(3629),Object(h.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-title-wrap"},[n("div",{staticClass:"mark"}),t._v(" "),n("span",{staticClass:"rank-title"},[t._v(t._s(t.title))]),t._v(" "),t.helpText?n("b-tooltip",{staticClass:"tooltip",attrs:{content:t.helpText,"append-to-body":!1,"auto-fix-position":!1,placement:"right"}},[n("AssitHelpIcon")],1):t._e()],1)}),[],!1,null,"1bd0d0f0",null).exports),U=n(2439),D=n(2203),H=n(1959),W=n(1914),G=n.n(W),V=n(883),X=n(182),Y=n(1242),Q=Object(d.d)({components:{BModal:f.Modal,CloseIcon:G.a},props:{visible:{type:Boolean,default:function(){return!1}},config:{type:Object,default:function(){return{}}}},emits:["save","close"],setup:function(t,e){var n,o=e.emit,r=Object(d.r)(),c=Object(d.r)(!1),l=Object(d.a)((function(){var e;return(null===(e=null==t?void 0:t.config)||void 0===e?void 0:e.url)||""}));return{saveRef:r,username:Object(d.a)((function(){var e;return Object(X.e)((null===(e=null==t?void 0:t.config)||void 0===e?void 0:e.username)||"",8)})),QRCode:Object(d.a)((function(){var e;return(null===(e=null==t?void 0:t.config)||void 0===e?void 0:e.QRCode)||""})),url:l,closeModal:function(){o("close",!0)},handleCopy:function(){var t="链接复制成功";try{Object(V.a)(l.value)}catch(e){t="链接复制失败"}Object(Y.a)(t)},handleSave:(n=Object(k.a)(regeneratorRuntime.mark((function t(){var image;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.value){t.next=3;break}return console.warn("domRef is empty"),t.abrupt("return");case 3:if(!c.value){t.next=6;break}return Object(Y.a)("海报生成中..."),t.abrupt("return");case 6:return c.value=!0,t.prev=7,t.next=10,Object(D.a)(r.value,{format:"base64",svgToBase64:!0,html2canvas:{scale:3.5,useCORS:!0,allowTaint:!0,ignoreElements:function(t){var e,n;return(null===(n=null===(e=null==t?void 0:t.classList)||void 0===e?void 0:e.contains)||void 0===n?void 0:n.call(e,"html2canvas-ignore"))||!1}}});case 10:"string"==typeof(image=t.sent)&&Object(H.b)("掘金社区_bugFix用户邀请助攻海报",image),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),console.warn("海报生成失败, err:",t.t0),Object(Y.a)("海报生成失败");case 18:c.value=!1;case 19:case"end":return t.stop()}}),t,null,[[7,14]])}))),function(){return n.apply(this,arguments)})}}}),z=(n(3631),Object(h.a)(Q,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-modal",{staticClass:"bugfix_share_modal",attrs:{width:"480px",value:t.visible,"mask-closable":!1,"footer-hide":!0,closable:!1}},[o("CloseIcon",{staticClass:"close_icon",on:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}}),t._v(" "),o("div",{staticClass:"box"},[o("div",{staticClass:"header"},[t._v("邀人助攻，瓜分矿石")]),t._v(" "),o("div",{staticClass:"content-wrap"},[o("div",{ref:"saveRef",staticClass:"content"},[o("img",{staticClass:"bg-img",attrs:{src:n(3630)}}),t._v(" "),o("div",{staticClass:"user-wrap"},[o("div",{staticClass:"text"},[o("div",{staticClass:"username"},[t._v(t._s(t.username))])]),t._v(" "),o("div",{staticClass:"icon"},[o("img",{attrs:{src:t.QRCode}})])])])]),t._v(" "),o("div",{staticClass:"desc"},[t._v("保存海报或复制链接，邀请别人为你助攻吧～")]),t._v(" "),o("div",{staticClass:"button-wrap"},[o("div",{staticClass:"save button",on:{click:t.handleSave}},[t._v("保存海报")]),t._v(" "),o("div",{staticClass:"copy button",on:{click:t.handleCopy}},[t._v("复制链接")])])])],1)}),[],!1,null,"7c05402a",null).exports),K=n(2134),Z=n.n(K),tt=n(2440),et=n(97),nt=n(27),at=n(1188),it=n(181),st=n(891),ot=n(2262),ut=n(1675),ct=n(48),lt=n(2473),vt=n(864);function ft(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function pt(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ft(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):ft(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var bt=Object(l.b)({components:{BugFixNotice:tt.a,BugsTable:v.a,GuideWeb:_,BugFixJoinModal:O.a,BugFixCleanModal:j.a,BugFixHelpModal:x.a,ReWardModal:w.a,BugFixShareModal:C.a,BugFixEndModal:y.a,WebShareModal:z,NumScroll:Z.a,RankWeb:A,NavTitle:J,UserCard:U.a},setup:function(t,e){var n=e.root;Object(ot.a)(n),Object(l.u)(Object(vt.d)({title:"收集Bug - 掘金"},n.$route.path,{}));var o=Object(ot.b)(),r=Object(c.a)(o,3),v=r[0],d=r[1],f=r[2],m=Object(l.n)(!1),h=Object(l.n)(!0),_=Object(l.n)(!0),O=Object(l.n)(!1),j=Object(l.n)(),x=Object(l.n)(),w=Object(l.n)([]),C=Object(l.n)([]),y=Object(l.n)(""),k=Object(l.n)(at.c.NONE),B=Object(l.n)(!1),M=Object(l.n)(!1),F=Object(l.n)(!1),I=Object(l.n)(!1),S=Object(l.n)(!1),R=Object(l.n)(""),E=Object(l.n)(),L=Object(l.n)(0),A=Object(l.n)(""),T=Object(l.a)((function(){var t,e;return null===(e=null===(t=n.$store.state)||void 0===t?void 0:t.auth)||void 0===e?void 0:e.user})),P=Object(l.a)((function(){var t;return T.value&&(null===(t=T.value)||void 0===t?void 0:t.avatar)})),$=Object(it.i)(at.e.bugfixGuideStep),J=Object(c.a)($,2),U=J[0],D=J[1],H=Object(l.a)((function(){var t;return(null==j?void 0:j.value)&&(null===(t=null==j?void 0:j.value)||void 0===t?void 0:t.from_end_num)||0})),W=Object(l.a)((function(){return"".concat(H.value<=0?0:H.value)})),G=Object(l.a)((function(){var t;return x.value&&(null===(t=x.value)||void 0===t?void 0:t.bug_fix_num)>0})),V=function(){z()},X=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];N.a.GetUserBugFixInfo({competition_id:y.value}).then((function(e){var n,o;e&&(null===(n=e.data)||void 0===n?void 0:n.competition_id)&&(x.value=e.data),t?(f(),V(),setTimeout((function(){_.value=!1}),150)):L.value=(null===(o=x.value)||void 0===o?void 0:o.user_own_bug)||0})).catch((function(){t&&(_.value=!1,V())}))},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];N.a.GetCompetition({competition_id:y.value}).then((function(e){var n;y.value="".concat(e&&(null===(n=e.data)||void 0===n?void 0:n.competition_id)||""),y.value&&(j.value=e.data),t&&(K(),X(!0))})).catch((function(){t&&(_.value=!1,V())}))},z=function(){h.value||(h.value=!0)},K=function(){N.a.GetBugFixAssistRecord({competition_id:y.value}).then((function(t){C.value=(null==t?void 0:t.data)||[]}))},Z=function(data){var t=(w.value||[]).map((function(t){var e;return(null===(e=null==t?void 0:t.user_info)||void 0===e?void 0:e.user_id)===R.value?pt(pt({},t),{},{bug_fix_num:data.bug_fix_num,user_rank:data.user_rank}):t}));w.value=t},tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!O.value){O.value=!0;var r={competition_id:y.value,bug_fix_num:e,not_self:o.length?1:0};o&&(r.assist_user_id=o),N.a.BugFix(r).then((function(e){var o;if(e&&0===e.err_no){var r=t===at.c.ASSIT?"为TA助攻成功，TA当前排名".concat((null===(o=e.data)||void 0===o?void 0:o.user_rank)||""):"消除成功";switch(Object(Y.a)(r),t){case at.c.JOIN:Object(ut.d)(n);break;case at.c.FIX:Object(ut.a)(n);break;case at.c.ASSIT:z(),Z(e.data)}}Q(),X(),bt(),R.value="",setTimeout((function(){O.value=!1}),200)})).catch((function(t){var e=(null==t?void 0:t.message)||"";e&&Object(Y.a)(e),t.statusCode===at.a.FINISH&&(bt(),Q(),X()),O.value=!1}))}},ft=function(){var t=T.value,e="".concat(at.b.url,"?inviterId=").concat(t.user_id);E.value={username:t.user_name,QRCode:Object(st.a)(e),url:e},S.value=!0},bt=function(){k.value=at.c.NONE},mt=Object(lt.a)(),gt=Object(c.a)(mt,1)[0];return Object(l.j)((function(){!function(){var t;A.value=(null===(t=T.value)||void 0===t?void 0:t.user_id)||"0";var e=Object(nt.c)();y.value=(null==e?void 0:e.competitionId)||"",A.value.length>1?Q(!0):V()}()})),{noticeChunks:gt,competitionId:y,avatar:P,userId:A,competitionInfo:j,userBugFix:x,loading:_,fromEndNum:H,formEndNumStr:W,rankList:w,showGuideVis:h,shareModalVis:I,wShareModalVis:S,shareConfig:E,bugfixActionType:k,BugFixType:at.c,reWardModalVis:B,bugFixEndModalVis:M,featureModalVis:F,pressFlag:m,refButton:v,refHuojin:d,userOwnedBugs:L,stepFlag:U,assitRecords:C,userOwnBugs:Object(l.a)((function(){var t;return(null==x?void 0:x.value)&&(null===(t=null==x?void 0:x.value)||void 0===t?void 0:t.user_own_bug)||0})),awardCount:Object(l.a)((function(){var t;return(null==j?void 0:j.value)&&(null===(t=null==j?void 0:j.value)||void 0===t?void 0:t.award)||0})),awardReqNum:Object(l.a)((function(){var t;return(null==j?void 0:j.value)&&(null===(t=null==j?void 0:j.value)||void 0===t?void 0:t.award_req_num)||0})),bugFixNum:Object(l.a)((function(){var t;return(null==x?void 0:x.value)&&(null===(t=null==x?void 0:x.value)||void 0===t?void 0:t.bug_fix_num)||0})),handleFixBug:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(H.value<=0)return bt(),void(M.value=!0);t&&tt(t,e,R.value)},closeShareModal:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I.value=!1,t&&z()},handleShareSubmit:function(){if(H.value<=0)return I.value=!1,void(M.value=!0);I.value=!1,k.value=at.c.ASSIT},handleBugfix:function(){m.value=!0,H.value>0?G.value?k.value=at.c.FIX:k.value=at.c.JOIN:M.value=!0},handleUserCardOpenModal:function(t,e){t?e&&(B.value=!0):k.value=e?at.c.FIX:at.c.JOIN},handleCloseHelpModal:function(){bt(),R.value="",z()},closeBugfixActionModal:bt,handelCloseEndModal:function(){M.value=!1,z()},handleCloseRewardModal:function(){B.value=!1},handleAssistRank:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t?ft():(k.value=at.c.ASSIT,R.value=e)},toStrategyPage:function(){Object(et.d)("7065937354439000078")},handleWShareModal:ft,closeWShareModal:function(){S.value=!1},handleCollectBug:function(){var t,e;L.value=(null===(t=x.value)||void 0===t?void 0:t.user_own_bug)||0,x.value=pt(pt({},x.value),{},{user_own_bug:((null===(e=x.value)||void 0===e?void 0:e.user_own_bug)||0)+1})},handleStepFlow:function(){D(U.value+1),3===U.value&&Object(ct.r)(v.value)},handleUpdateRankList:function(data){w.value=data},handleMouseEnter:function(){m.value||(m.value=!0)},handleMouseLeave:function(){m.value=!1}}},head:{}}),mt=(n(3632),Object(h.a)(bt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"web-view"},[t.showGuideVis?o("GuideWeb",{attrs:{stepFlag:t.stepFlag},on:{step:t.handleStepFlow}}):t._e(),t._v(" "),o("BugFixJoinModal",{attrs:{visible:t.bugfixActionType===t.BugFixType.JOIN,collectMount:t.userOwnBugs,minJoinMount:t.awardReqNum},on:{close:t.closeBugfixActionModal,confirm:t.handleFixBug}}),t._v(" "),o("BugFixHelpModal",{attrs:{visible:t.bugfixActionType===t.BugFixType.ASSIT,collectMount:t.userOwnBugs},on:{close:t.handleCloseHelpModal,confirm:t.handleFixBug}}),t._v(" "),o("BugFixCleanModal",{attrs:{visible:t.bugfixActionType===t.BugFixType.FIX,collectMount:t.userOwnBugs,minJoinMount:t.awardReqNum,cleanMount:t.bugFixNum},on:{close:t.closeBugfixActionModal,confirm:t.handleFixBug}}),t._v(" "),o("ReWardModal",{attrs:{visible:t.reWardModalVis,userBugFix:t.userBugFix,competitionInfo:t.competitionInfo},on:{close:t.handleCloseRewardModal}}),t._v(" "),o("BugFixEndModal",{attrs:{visible:t.bugFixEndModalVis},on:{close:t.handelCloseEndModal}}),t._v(" "),o("WebShareModal",{attrs:{visible:t.wShareModalVis,config:t.shareConfig},on:{close:t.closeWShareModal}}),t._v(" "),o("BugFixShareModal",{attrs:{visible:t.shareModalVis},on:{close:t.closeShareModal,submit:t.handleShareSubmit}}),t._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"bugfix-contaienr"},[o("div",{staticClass:"bugfix-wrapper",style:{opacity:t.loading?0:1}},[o("div",{staticClass:"main"},[o("div",{staticClass:"box"},[o("div",{staticClass:"left-part"},[o("div",{staticClass:"game-wrap"},[o("BugsTable",{on:{collectBug:t.handleCollectBug}}),t._v(" "),o("div",{staticClass:"header"},[t._m(0),t._v(" "),o("div",{staticClass:"tags-wrap"},[o("div",{staticClass:"tags-common current-box"},[o("div",{staticClass:"current-count"},[o("span",{staticClass:"value"},[t._v(t._s(t.awardCount))]),t._v(" "),o("img",{staticClass:"ore-icon",attrs:{src:n(2249)}})]),t._v(" "),o("p",{staticClass:"desc"},[t._v("本场瓜分矿石")])]),t._v(" "),o("div",{staticClass:"tags-common own-bugs"},[o("img",{staticClass:"own-icon",attrs:{src:t.avatar}}),t._v(" "),o("div",{staticClass:"own-remain"},[t.userOwnBugs>0&&t.userOwnedBugs>0?o("NumScroll",{staticClass:"value",attrs:{start:t.userOwnedBugs,end:t.userOwnBugs}}):o("p",{staticClass:"value",style:{"margin-left":"2px"}},[t._v("\n                        "+t._s(t.userOwnBugs)+"\n                      ")]),t._v(" "),o("p",{staticClass:"desc"},[t._v("未消除 Bug 数量")])],1)])])]),t._v(" "),o("div",{staticClass:"strage",on:{click:t.toStrategyPage}},[o("img",{attrs:{src:n(3613)}})]),t._v(" "),o("div",{ref:"refHuojin",staticClass:"huojin-wrap"}),t._v(" "),t.fromEndNum>0?o("div",{staticClass:"foot-bar"},[t._v("\n                距离本场结束还需要消除\n                "),o("span",{staticClass:"value",style:{padding:"8px 8px"}},[t._v("\n                  "+t._s(t.formEndNumStr)+"\n                ")]),t._v("\n                个Bug\n              ")]):o("BugFixNotice",{staticClass:"foot-bar",attrs:{"notice-chunks":t.noticeChunks,"is-empty-notice":!t.noticeChunks.length}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.pressFlag,expression:"!pressFlag"}],ref:"refButton",staticClass:"bugfix-button",on:{mouseenter:t.handleMouseEnter}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.pressFlag,expression:"pressFlag"}],staticClass:"bugfix-button",on:{click:t.handleBugfix,mouseleave:t.handleMouseLeave}},[o("img",{attrs:{src:n(2250)}})])],1)]),t._v(" "),o("div",{staticClass:"right-part"},[o("nav-title",{attrs:{title:"BugFix 排行榜"}}),t._v(" "),o("user-card",{attrs:{userBugFix:t.userBugFix,competitionInfo:t.competitionInfo},on:{openModal:t.handleUserCardOpenModal,openShareModal:t.handleWShareModal}}),t._v(" "),t.competitionId?o("rank-web",{attrs:{isEnd:t.fromEndNum<=0,competitionId:t.competitionId,rankList:t.rankList},on:{assit:t.handleAssistRank,updateRankList:t.handleUpdateRankList}}):t._e()],1)])])])])],1)}),o,!1,null,"1d94d4ba",null));e.default=mt.exports},861:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return f}));var o="掘金,稀土,Vue.js,前端面试题,Kotlin,ReactNative,Python",r="掘金是面向全球中文开发者的技术内容分享与交流平台。我们通过技术文章、沸点、课程、直播等产品和服务，打造一个激发开发者创作灵感，激励开发者沉淀分享，陪伴开发者成长的综合类技术社区。",c="https://juejin.cn",l="juejin.cn",v=function(t){return"".concat(t,"技术、学习、经验文章掘金开发者社区搜索结果。掘金是一个帮助开发者成长的社区，").concat(t,"技术文章由稀土上聚集的技术大牛和极客共同编辑为你筛选出最优质的干货，用户每天都可以在这里找到技术世界的头条内容，我们相信你也可以在这里有所收获。")},d="掘金,科技资讯,开源新闻,开源软件,Vue.js,go mod,netty,后端,谷歌,亚马逊,GitHub",f="掘金是目前领先的中文开发者社区，致力帮助开发者成长，为开发者提供新鲜的科技行业动态、开源项目和编程语言动态。掘金是给开发者用的 Hacker News，给设计师用的 Designer News，和给产品经理用的 Medium。"},864:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return m}));n(45);var o=n(861),r=n(865);function c(t,e){t=t||{},e=e||t.parsedContent;var title=t.title||"",content=(e||"").replace(/<.*?>/g,"")||t.content;return{title:title,keywords:l((t.tags||[]).map((function(t){return t.title}))),description:v(content)}}function l(t){return(t=t||[]).join(",").replace(/[\r\n\s]+/g," ")}function v(t){return(t=(t||"").trim().slice(0,130)).replace(/[\r\n\s]+/g," ")}function d(){var path=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",link=[{rel:"canonical",href:"".concat(o.f).concat(path)}];return{link:link}}function f(t){return{title:t.title,meta:[{vmid:"description",name:"description",content:t.description},{vmid:"keywords",name:"keywords",content:t.keywords}]}}function m(t,path,e){return t.keywords||(t.keywords=o.b),t.description||(t.description=o.a),f(Object(r.buildTdk)(t,o.e,path,e))}},883:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));n(83),n(45),n(27),n(18);var o=function(text){try{var textarea=document.createElement("textarea");document.body.appendChild(textarea),textarea.value=text,textarea.select(),document.execCommand("copy"),document.body.removeChild(textarea)}catch(t){throw"copy link error"}};function r(content){if(!(content=(null==content?void 0:content.trim())||""))return"";var t=((null==content?void 0:content.trim())||"").split("\n")[0];return t.length<=30?t:t.substring(0,30)}},891:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n(916),r=n.n(o);function c(content){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:410,svg=new r.a({content:content,color:t,padding:0,width:e,height:e,background:"#ffffff",ecl:"L"}).svg();return"data:image/svg+xml;utf8,".concat(encodeURIComponent(svg))}}}]);