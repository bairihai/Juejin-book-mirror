(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{2709:function(t,e,n){},3559:function(t,e,n){t.exports=n.p+"img/background.e716ce5.png"},3589:function(t,e,n){"use strict";n(2709)},4526:function(t,e,n){"use strict";n.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title_box",attrs:{id:"test-test"}},[e("img",{attrs:{src:n(2688)}}),this._v(" "),e("p",[this._v("惊喜大奖等你来拿")])])}],o=(n(16),n(15),n(11),n(6),n(14),n(0)),c=n(7),l=n(3124),d=n(3125),f=n(3114),v=n(3126),h=n(3115),y=n(284),w=n(2703),_=n(2245),m=n.n(_),O=n(2689),k=n.n(O),j=n(2140),S=n(25),T=n(864);function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x=Object(c.b)({components:{Rules:l.a,WinningList:d.a,GrandLottery:f.a,LotteryTurntable:h.a,LotteryIcon:m.a,ArrowRightIcon:k.a,LuckyVal:v.a},setup:function(t,e){var n=e.root;Object(c.u)(Object(T.d)({title:"幸运抽奖 - 掘金"},n.$route.path,{}));var r=n.$getBean("eventBus");var o,l=(o=Object(c.n)(0),{loading:Object(c.a)((function(){return o.value<4})),rendered:function(){o.value=o.value+1}}),d=l.loading,f=l.rendered,v=Object(c.n)(0);Object(y.c)().then((function(t){f(),v.value=t.data})).catch((function(){f()}));var h=function(){Object(y.c)().then((function(t){v.value=t.data}))};var _;return Object(c.j)((function(){localStorage.setItem(S.a.hasLotteryBedge,"true"),n.$TEA("lucky_lottery_visit",{enter_from:n.$route.query.from}),r.on(r.eventType.POINTS_COUNT_UPDATE,h)})),Object(c.k)((function(){r.off(r.eventType.POINTS_COUNT_UPDATE,h)})),E(E({loading:d,points:v,rendered:f,handleUpdatePoints:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;e===j.a.ADD?v.value+=t:e===j.a.CUT&&(v.value-=t)}},(_=Object(c.n)(!1),Object(y.h)().then((function(t){f(),_.value=t.data})).catch((function(){f()})),{hasSignin:_,toSignin:function(){_.value||n.$router.push({path:"/user/center/signin",query:{from:"lucky_lottery_sign_in"}})}})),{},{toGains:function(){n.$TEA("personal_award_click"),n.$router.push("/user/center/gains")},handleUpdate:function(t,e){e&&("SINGLE"===t?Object(w.a)(e):Object(w.g)(e))},handleRaffleFail:function(t){return"SINGLE"===t?Object(w.f)():Object(w.h)()}})},head:{}}),L=(n(3589),n(29)),component=Object(L.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"lottery_contaienr"},[r("div",{staticClass:"lottery_wrapper",style:{opacity:t.loading?0:1}},[r("img",{staticClass:"background",attrs:{src:n(3559)}}),t._v(" "),t._m(0),t._v(" "),r("Rules",{staticClass:"rules-box",attrs:{id:"rules-box"}}),t._v(" "),r("div",{staticClass:"main"},[r("div",{staticClass:"current-box"},[r("div",{staticClass:"current_value"},[r("LotteryIcon",{staticClass:"lottery-icon"}),t._v(" "),r("span",{staticClass:"value"},[t._v(t._s(t.points))])],1)]),t._v(" "),r("div",{staticClass:"box"},[r("div",{staticClass:"left_part"},[r("div",{staticClass:"left_part_header"}),t._v(" "),r("div",{staticClass:"title-box"},[r("p",{staticClass:"title"},[t._v("幸运大转盘")]),t._v(" "),r("div",{staticClass:"tosignin",class:t.hasSignin&&"done",on:{click:t.toSignin}},[t._v("\n              "+t._s(t.hasSignin?"已签到":"去签到免费抽1次")+"\n              "),t.hasSignin?t._e():r("ArrowRightIcon",{staticClass:"arrow-right-icon"})],1)]),t._v(" "),r("div",{staticClass:"lottery"},[r("LotteryTurntable",{attrs:{points:t.points},on:{update:t.handleUpdate,updatePoints:t.handleUpdatePoints,raffleBeginFail:t.handleRaffleFail}})],1),t._v(" "),r("LuckyVal",{staticClass:"lucky-progress-wrap",attrs:{isH5:!1}})],1),t._v(" "),r("div",{staticClass:"right_part"},[r("p",{staticClass:"title",attrs:{id:"lottery-gifts"}},[t._v("围观大奖")]),t._v(" "),r("GrandLottery",{staticClass:"grand_lottery",attrs:{fetched:t.rendered}}),t._v(" "),r("p",{staticClass:"title"},[t._v("中奖播报")]),t._v(" "),r("WinningList",{staticClass:"winning_list",attrs:{fetched:t.rendered}})],1)])])],1)])}),r,!1,null,"59f61177",null);e.default=component.exports},861:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"c",(function(){return v}));var r="掘金,稀土,Vue.js,前端面试题,Kotlin,ReactNative,Python",o="掘金是面向全球中文开发者的技术内容分享与交流平台。我们通过技术文章、沸点、课程、直播等产品和服务，打造一个激发开发者创作灵感，激励开发者沉淀分享，陪伴开发者成长的综合类技术社区。",c="https://juejin.cn",l="juejin.cn",d=function(t){return"".concat(t,"技术、学习、经验文章掘金开发者社区搜索结果。掘金是一个帮助开发者成长的社区，").concat(t,"技术文章由稀土上聚集的技术大牛和极客共同编辑为你筛选出最优质的干货，用户每天都可以在这里找到技术世界的头条内容，我们相信你也可以在这里有所收获。")},f="掘金,科技资讯,开源新闻,开源软件,Vue.js,go mod,netty,后端,谷歌,亚马逊,GitHub",v="掘金是目前领先的中文开发者社区，致力帮助开发者成长，为开发者提供新鲜的科技行业动态、开源项目和编程语言动态。掘金是给开发者用的 Hacker News，给设计师用的 Designer News，和给产品经理用的 Medium。"},864:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return v})),n.d(e,"d",(function(){return h}));n(45);var r=n(861),o=n(865);function c(t,e){t=t||{},e=e||t.parsedContent;var title=t.title||"",content=(e||"").replace(/<.*?>/g,"")||t.content;return{title:title,keywords:l((t.tags||[]).map((function(t){return t.title}))),description:d(content)}}function l(t){return(t=t||[]).join(",").replace(/[\r\n\s]+/g," ")}function d(t){return(t=(t||"").trim().slice(0,130)).replace(/[\r\n\s]+/g," ")}function f(){var path=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",link=[{rel:"canonical",href:"".concat(r.f).concat(path)}];return{link:link}}function v(t){return{title:t.title,meta:[{vmid:"description",name:"description",content:t.description},{vmid:"keywords",name:"keywords",content:t.keywords}]}}function h(t,path,e){return t.keywords||(t.keywords=r.b),t.description||(t.description=r.a),v(Object(o.buildTdk)(t,r.e,path,e))}},865:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function d(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}f((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.setTdkTemplateList=e.getTdkTemplateList=e.buildTdk=void 0;var l=c(n(896)),d=n(866),f=n(868),v=n(869),h=[],y=null,w=!1;function _(t){return r(this,void 0,void 0,(function(){var e,data,n,r;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,l.default.request({url:"https://seo"+(w?"-boe":"")+".bytedance.net/api/tdk/query",method:"post",data:{site:t}})];case 1:if(e=o.sent(),data=e.data,(n=e.status)>=400)throw new Error("获取 TDK 失败，status code: "+n);if(data.errno)throw new Error("获取 TDK 失败，errno: "+data.errno+",message: "+data.message);return j(data.data),[3,3];case 2:return r=o.sent(),console.warn(r),[3,3];case 3:return[2]}}))}))}function m(template,t){var e=template.replace(/\{\{\s*(\w+)\s*\}\}/g,"{{$1}}");for(var n in t)e=e.replace("{{"+n+"}}",t[n]);return e.replace(/{{([\s\S]+?)}}/g,"")}function O(path,t){var e=function(path,t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(d.isMatch(path,r.path))return r}}(path,h);return e?{title:m(e.title,t),description:m(e.description,t),keywords:m(e.keywords,t)}:{title:"",description:"",keywords:""}}function k(t){return!t.title&&!t.description&&!t.keywords}function j(t){h=JSON.parse(JSON.stringify(t))}e.buildTdk=function(t,e,path,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=36e5),w=r;var c={title:"",description:"",keywords:""};try{if("string"!=typeof e||"string"!=typeof path)throw new Error("由模板构建 TDK 时，必须要传入合法 site 和 path，当前 site="+e+"，path="+path);c=O(path,n),v.isSsrServer()&&(!function(t,e){t<3e5&&(console.warn("模板刷新时间间隔不能小于 5 分钟，当前设置 "+t+"ms"),t=3e5),y||(y=setInterval((function(){_(e)}),t*(1+.1*(Math.random()-.5))),_(e))}(o,e),f.metricsEmitCounter("tdk.build",1,"toutiao.growth.seo_platform",{site:e||"empty",path:path||"empty",fallback:+k(c),tdkTemplateListLength:h.length,errMsg:"success"}))}catch(t){console.warn(t),v.isSsrServer()&&f.metricsEmitCounter("tdk.build",1,"toutiao.growth.seo_platform",{site:e||"empty",path:path||"empty",fallback:+k(c),tdkTemplateListLength:h.length,errMsg:t.toString()})}return k(c)?(console.warn("使用兜底 TDK"),t):c},e.getTdkTemplateList=function(){return JSON.parse(JSON.stringify(h))},e.setTdkTemplateList=j},866:function(t,e,n){"use strict";const r=n(867),o=new Map;function c(pattern,t){t={caseSensitive:!1,...t};const e=pattern+JSON.stringify(t);if(o.has(e))return o.get(e);const n="!"===pattern[0];n&&(pattern=pattern.slice(1)),pattern=r(pattern).replace(/\\\*/g,"[\\s\\S]*");const c=new RegExp(`^${pattern}$`,t.caseSensitive?"":"i");return c.negated=n,o.set(e,c),c}t.exports=(t,e,n)=>{if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError(`Expected two arrays, got ${typeof t} ${typeof e}`);if(0===e.length)return t;const r="!"===e[0][0];e=e.map(pattern=>c(pattern,n));const o=[];for(const input of t){let t=r;for(const pattern of e)pattern.test(input)&&(t=!pattern.negated);t&&o.push(input)}return o},t.exports.isMatch=(input,pattern,t)=>{const e=Array.isArray(input)?input:[input],n=Array.isArray(pattern)?pattern:[pattern];return e.some(input=>n.every(pattern=>{const e=c(pattern,t),n=e.test(input);return e.negated?!n:n}))}},867:function(t,e,n){"use strict";t.exports=t=>{if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},868:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.metricsEmitCounter=void 0;e.metricsEmitCounter=function(t,e,n,r){null}},869:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSsrServer=void 0,e.isSsrServer=function(){try{return!(window&&document&&location&&alert)}catch(t){return!0}}}}]);