(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1047:function(e,t,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,f=data.class,m=data.staticClass,style=data.style,v=data.staticStyle,h=data.attrs,w=void 0===h?{}:h,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[f,m],style:[style,v],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.00002 0.666504C12.0501 0.666504 15.3334 3.94975 15.3334 7.99984C15.3334 12.0499 12.0501 15.3332 8.00002 15.3332C3.94993 15.3332 0.666687 12.0499 0.666687 7.99984C0.666687 3.94975 3.94993 0.666504 8.00002 0.666504ZM8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM10.6667 5.66667V7.66667H9.33333V5.66667H10.6667ZM6.66667 5.66667V7.66667H5.33333V5.66667H6.66667ZM10.0767 9.33333H11.0495C11.1804 9.33333 11.2866 9.43951 11.2866 9.57048C11.2866 9.60754 11.2779 9.64409 11.2612 9.67718L11.244 9.71053C10.6294 10.8739 9.40726 11.6667 7.99998 11.6667C6.61523 11.6667 5.40977 10.8991 4.7859 9.76612L4.73786 9.67593C4.67845 9.56052 4.72385 9.4188 4.83926 9.35939C4.87253 9.34226 4.90941 9.33333 4.94683 9.33333H5.92347C6.02396 9.33332 6.11908 9.37865 6.18238 9.4567C6.26207 9.55496 6.32833 9.62955 6.38117 9.68046C6.80074 10.0847 7.37133 10.3333 7.99998 10.3333C8.63289 10.3333 9.20694 10.0814 9.62728 9.67224C9.67791 9.62296 9.74135 9.55121 9.8176 9.45698C9.88089 9.37877 9.97611 9.33333 10.0767 9.33333Z"}})]))}}},1048:function(e,t,n){"use strict";n(943)},1049:function(e,t,n){"use strict";n(944)},898:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return w}));n(45);var r=n(179);function o(e){e.preventDefault(),window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{var text=window.clipboardData.getData("Text");try{window.getSelection().createRange().pasteHTML(text)}catch(e){var t=document.createTextNode(text);window.getSelection().getRangeAt(0).insertNode(t)}}catch(t){var n=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,n)}}function c(e){if(document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(document.selection){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}function l(){return"function"==typeof document.createRange||"function"==typeof window.getSelection}function d(){var e=null,t=null;return l?(t=document.getSelection()).getRangeAt&&t.rangeCount&&(e=document.getSelection().getRangeAt(0)):e=document.selection.createRange(),e}function f(html){var text=html;return text=text.replace(/<\s*script[^>]*>[\s\S]*?<\/script>/gim,"").replace(/<\s*style[^>]*>[\s\S]*?<\/style>/gim,"").replace(/<!--.*?-->/gim,"").replace(/<!DOCTYPE.*?>/gi,"").replace(/<\/div>/gi,"").replace(/(<br><div>|<div>|<br>)/gi,"\n").replace(/&nbsp;/gi,"").replace(/<.*?>/gi,"").replace(/&lt;/gi,"<").replace(/&amp;/gi,"&").replace(/&gt;/gi,">").replace(/&#39;/gi,"'").replace(/&quot;/g,'"')}function m(e,t){var n="",r=e.clipboardData.items;if(r){for(var i=0;i<r.length;i++)-1!=r[i].type.indexOf("image")&&(n=r[i].getAsFile());"function"==typeof t&&n&&t(n)}}function v(e){window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{return window.clipboardData.getData("Text")}catch(t){return(e.originalEvent||e).clipboardData.getData("text/plain")}}function h(e,html){var t,n,r=d();if(r&&function e(t,n){return!(!n||!t)&&(t===n||e(t,n.parentElement))}(e,r.startContainer)||c(e),e.focus(),window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){(n=t.getRangeAt(0)).deleteContents(),(e=document.createElement("div")).innerHTML=html;for(var o,l,f=document.createDocumentFragment();o=e.firstChild;)l=f.appendChild(o);n.insertNode(f),l&&((n=n.cloneRange()).setStartAfter(l),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(html)}function w(e){var t=d(),n=t.startContainer;if(3===n.nodeType){for(var text=n.nodeValue,o=t.startOffset-1,c=t.endOffset-1,f=[];o>=0;){if("["===text[o]){f[0]=o;break}o--}for(;c<=text.length-1;){if("]"===text[c]){f[1]=c;break}c++}if(void 0!==f[0]&&void 0!==f[1]){var m=text.slice(f[0],f[1]+1),v=Object(r.c)(m);if(v){var w=document.createRange();w.setStart(n,f[0]),w.setEnd(n,f[1]+1),function(e){if(e){var t=null,n=null;l?((n=document.getSelection()).removeAllRanges(),n.addRange(e)):((t=document.selection.createRange()).setEndPoint("EndToEnd",e),0===e.text.length?t.collapse(!1):t.setEndPoint("StartToStart",e),t.select())}}(w),h(e,v)}}}}},907:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(11),n(54),n(6),n(23);var r=n(5),o=n(1);function c(e,t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark((function e(t,o){var c,l,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(15).then(n.t.bind(null,1089,7));case 3:return c=e.sent,l=c.default,e.next=7,d();case 7:return m=e.sent,v=function(e){return new Promise((function(n,r){var o=new l({userId:t,appId:2608,imageConfig:{serviceId:"k3u1fbpfcp"}}),c=o.addFile({file:e,stsToken:m,type:"image"});o.start(c),o.on("complete",(function(e){n(e.uploadResult)})),o.on("error",(function(e){console.log(e.extra,"bytedUploader Error"),r(e.extra)}))}))},e.next=11,Promise.all(o.map(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return n=e.sent,r=n.ImageHeight,o=n.ImageWidth,c=n.Uri,e.next=8,f(c);case 8:return l=e.sent,e.abrupt("return",{ImageHeight:r,ImageWidth:o,Uri:c,Url:l.data.main_url});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),new Error("上传图片失败");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function d(){return Object(o.e)({url:"/imagex/gen_token",query:{client:"web"}}).then((function(e){return e.data.token}))}function f(e){return Object(o.e)({url:"/imagex/get_img_url",query:{uri:e}})}},910:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d}));var r=["jpg","jpeg","png","gif","webp"],o=5242880,c=9,l=1e3,d=["jpg","png","gif"]},916:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(39),n(24),n(25),n(437),n(6);var r=[{name:"jpg",regx:/^ffd8ff/},{name:"gif",regx:/^474946/},{name:"png",regx:/89504e47/},{name:"webp",regx:/57454250/},{name:"bmp",regx:/^424d/},{name:"any",regx:/./}];function o(e,t){return function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){return t(e.target.result)},r.onerror=function(e){return n(e)},r.readAsArrayBuffer(e.slice(0,64))}))}(e).then(c).then(l.bind(null,t))}function c(e){return Array.prototype.slice.call(new Uint8Array(e)).reduce((function(e,data){return e+data.toString(16)}),"")}function l(e,header){for(var i=0;i<r.length;i++)if(r[i].regx.test(header))return-1!==e.indexOf(r[i].name);return!1}},943:function(e,t,n){},944:function(e,t,n){},955:function(e,t,n){"use strict";function r(e,t){if((10==e.keyCode||13==e.keyCode)&&(e.ctrlKey||e.metaKey))return t()}n.d(t,"a",(function(){return r}))},982:function(e,t,n){"use strict";var r=n(8),o=n(1047),c=n.n(o),l=Object(r.d)({components:{EmotionIcon:c.a,Picker:function(){return n.e(47).then(n.bind(null,4502))}},emits:["selectEmoji"],setup:function(e,t){var n=t.root,o=t.emit,c=Object(r.r)(!1);var l=Object(r.r)(!1),d=Object(r.x)(c,(function(){l.value=!0,d()}));return{once:l,visible:c,toggleShow:function(){var e=n.$store.getters.USER;return e?e.isBindedPhone?void(c.value=!c.value):n.$requestBindPhoneNumber():n.$requestLogin()},hide:function(){c.value=!1},handleChange:function(e){o("selectEmoji",e.source)}}}}),d=(n(1048),n(28)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"outer-click",rawName:"v-outer-click",value:e.hide,expression:"hide"}],staticClass:"emoji-container"},[n("div",{staticClass:"emoji-box",class:e.visible&&"active",on:{click:e.toggleShow}},[n("EmotionIcon",{staticClass:"icon"}),e._v(" "),n("span",[e._v("表情")])],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.once?n("Picker",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],on:{change:e.handleChange}}):e._e()],1)],1)}),[],!1,null,"9fe533ba",null);t.a=component.exports},983:function(e,t,n){"use strict";var r={props:["user"],computed:{isVisible:function(){if(this.user){var e=this.user.isBindedPhone;return this.user&&!e}return!1}},methods:{bindPhone:function(){this.$requestBindPhoneNumber()}}},o=(n(1049),n(28)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth-card"},[n("transition",{attrs:{name:"fade"}},[e.isVisible?n("div",{staticClass:"auth-cover"},[n("span",{staticClass:"hint"}),e._v("\n      您需要\n      "),n("a",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.bindPhone(t)}}},[e._v("绑定手机号")]),e._v("\n      后才可在社区内发布内容。\n    ")]):e._e()]),e._v(" "),e._t("default")],2)}),[],!1,null,"7c7c7498",null);t.a=component.exports}}]);